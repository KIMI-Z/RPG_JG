package jg.rpg.dao.db;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.List;

import javax.sql.DataSource;

import org.apache.commons.dbutils.QueryRunner;
import org.apache.commons.dbutils.ResultSetHandler;

import jg.rpg.exceptions.InitException;

public class DBHelper {
	
	public static <T> T GetAll(DataSource ds , String sql , ResultSetHandler<T> rsh){
		return GetAll(ds,sql,rsh);
	}
	
	public static <T> T GetAll(DataSource ds , String sql , ResultSetHandler<T> rsh , Object[] params) throws SQLException{
		
		ResultSetHandler<List<T>> listRS = new ResultSetHandler<List<T>>(){

			@Override
			public List<T> handle(ResultSet rs) throws SQLException {
				 if (!rs.next()) {
			        return null;
			     }
				 List<T> rses = new ArrayList<T>();
				 while(rs.next()){
					 
				 }
				rsh.handle(rs);
				return null;
			}
		};
		QueryRunner qr = new QueryRunner(ds);
		return qr.query(sql, rsh);
	}
}
